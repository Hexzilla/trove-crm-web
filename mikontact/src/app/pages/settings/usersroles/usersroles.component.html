<div class="row mb-3">
  <div class="col-auto">
    <div class="f-20-400 color-253238">Users & Roles</div>
  </div>
</div>
<div class="row alignTabCSS">
  <div class="col-sm-12">
    <mat-tab-group animationDuration="0ms" class="horizontalTab tab002 minWidth100">
      <mat-tab label="Users">
        <div class="table001 tablePagination">
          <div class="row justify-content-start">
            <div class="col-sm-6 col-md-6 col-lg-5 col-xl-3">
              <div class="input-group mb-3 inputSearch001">
                <input class="form-control" matInput (keyup)="usersFilter($event)" placeholder="Search..." #filterUsers>
                <div class="input-group-append">
                  <i class="material-icons input-group-text">search</i>
                </div>
              </div>
            </div>
            <div class="col text-right mb-10-xs">
              <button (click)="open(modalNewUser)" class="btnColor1 f-16-500" mat-flat-button>New user
                <i class="material-icons fs-16 ml-1">
                add
                </i>
              </button>
            </div>
          </div>
          <div class="color-253238 table-responsive table001">
              <table class="w-100" mat-table [dataSource]="dataSourceUser" matSort #USERSSORT="matSort">
                <!-- Role Column -->

                <ng-container matColumnDef="user">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> User </th>
                  <td mat-cell *matCellDef="let row">
                    <img class="userTableImg" [src]="row.profile" />{{row.user}} </td>
                </ng-container>
                <ng-container matColumnDef="role">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Role </th>
                  <td mat-cell *matCellDef="let row"> {{row.role}} </td>
                </ng-container>
                 <ng-container matColumnDef="accessLevel">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Access Level </th>
                  <td mat-cell *matCellDef="let row"> {{row.accessLevel}} </td>
                </ng-container>
                 <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                  <td mat-cell *matCellDef="let row"> <mat-slide-toggle  class="slideToggle001"></mat-slide-toggle>
                  </td>
                </ng-container>
                <ng-container matColumnDef="action">
                  <th class="w-220px" mat-header-cell *matHeaderCellDef> Action </th>
                  <td mat-cell *matCellDef="let row">
                  <a (click)="open(modalNewUser)" mat-flat-button class="btnEdit1 f-14-400">
                    <i class="material-icons mr-1 fs-14">create</i>
                    Edit
                  </a>
                  <a (click)="open(modalDelete)" mat-flat-button class="btnDelete1 f-14-400 ml-2">Delete</a>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedUserColumns;"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedUserColumns;"></tr>
                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">No data matching the filter "{{filterUsers.value}}"</td>
                </tr>
              </table>
          </div>
          <mat-paginator #USERSPAGINATOR="matPaginator" [pageSizeOptions]="[7, 15, 100]"></mat-paginator>
        </div>
      </mat-tab>
      <mat-tab label="Roles">
        <div class="table001 tablePagination">
          <div class="row justify-content-start">
            <div class="col-sm-6 col-md-6 col-lg-5 col-xl-3">
              <div class="input-group mb-3 inputSearch001">
                <input class="form-control" matInput  (keyup)="rolesFilter($event)" placeholder="Search..." #filterRoles>
                <div class="input-group-append">
                  <i class="material-icons input-group-text">search</i>
                </div>
              </div>

            </div>
            <div class="col text-right mb-10-xs">
              <button (click)="openNewRole(modalNewRole)" class="btnColor1 f-16-500" mat-flat-button>New Role
                <i class="material-icons fs-16 ml-1">
                add
                </i>
              </button>
            </div>
          </div>
          <div class="color-253238 table-responsive table001">
              <table class="w-100" mat-table [dataSource]="dataSourceRole" matSort #ROLESSORT="matSort">
                <!-- Role Column -->
                <ng-container matColumnDef="role">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Role </th>
                  <td mat-cell *matCellDef="let row"> {{row.role}} </td>
                </ng-container>

                <!-- AccessLevel Column -->
                <ng-container matColumnDef="accessLevel">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
                  <td mat-cell *matCellDef="let row"> {{row.accessLevel}} </td>
                </ng-container>
                <!-- Status Column -->
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                  <td mat-cell *matCellDef="let row"> <mat-slide-toggle class="slideToggle001"></mat-slide-toggle>
                  </td>
                </ng-container>
                <ng-container matColumnDef="action">
                  <th class="w-220px" mat-header-cell *matHeaderCellDef> Action </th>
                  <td mat-cell *matCellDef="let row">
                  <a (click)="openNewRole(modalNewRole)" mat-flat-button class="btnEdit1 f-14-400">
                    <i class="material-icons mr-1 fs-14">create</i>
                    Edit
                  </a>
                  <a (click)="open(modalDelete)" mat-flat-button class="btnDelete1 f-14-400 ml-2">Delete</a>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedRoleColumns;"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedRoleColumns;"></tr>
                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="4">No data matching the filter "{{filterRoles.value}}"</td>
                </tr>
              </table>
          </div>
          <mat-paginator #ROLESPAGINATOR="matPaginator" [pageSizeOptions]="[7, 15, 100]"></mat-paginator>
        </div>
      </mat-tab>
      </mat-tab-group>
  </div>
</div>


<ng-template #modalNewRole let-modal>
  <div class="modal-header">
    <div class="px-2">
      <span class="color-253238 f-20-500">Create new role</span>
    </div>
  </div>
  <div class="bg-EFF2F7 px-4 py-3 input001">
    <form [formGroup]="newRoleForm" novalidate action="">
        <div class="row color-253238">
          <div class="col-sm-12 col-md-12 col-lg-6 col-xl-4">
            <div>
              <label  class="f-12-500">Role Name*</label>
              <span *ngIf="newRoleForm.controls['role'].invalid && (newRoleForm.controls['role'].dirty || newRoleForm.controls['role'].touched)" class="color-ff0000 f-12-500 float-right">
                <span *ngIf="newRoleForm.controls['role'].errors.required">
                Please enter the role name.
                </span>
            </span>
              <mat-form-field appearance="fill">
               <input formControlName="role" matInput type="text" value="">
             </mat-form-field>
            </div>
          </div>
          <div class="w-100"></div>
          <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8">
            <div>
              <label  class="f-12-500">Description</label>
              <mat-form-field appearance="fill">
              <textarea matInput name="" id="" cols="30" rows="1"></textarea>
             </mat-form-field>
            </div>
          </div>
        </div>
    </form>
  </div>
  <div class="modal-body">
    <div class="px-2 input001">
      <div class="color-253238 f-16-500 mb-3">
        <span>Configure permissions</span>
      </div>
      <div class="row mb-3">
        <div class="col-12">
          <mat-tab-group animationDuration="0ms" class="horizontalTab tab001">
            <mat-tab label="Contacts">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
            <mat-tab label="Leads">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
            <mat-tab label="Task">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
            <mat-tab label="Appointment">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
            <mat-tab label="Settings">
                  <div class="table-responsive">
                   <table class="table table-borderless checkbox001 customTB001">
                     <thead class="color-253238 v-top">
                       <tr>
                         <th class="w-75">
                           <div class="custom-control custom-checkbox pos-t-0">
                             <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                             <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                           </div>
                         </th>
                         <th class="f-10-400">
                          <div class="custom-control custom-checkbox pos-t-0">
                            <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                            <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                          </div>
                         </th>
                         <th class="f-10-400">
                          <div class="custom-control custom-checkbox pos-t-0">
                            <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                            <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                          </div>
                         </th>
                         <th class="f-10-400">
                          <div class="custom-control custom-checkbox pos-t-0">
                            <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                            <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                          </div>
                         </th>
                       </tr>
                     </thead>
                     <tbody class="">
                       <tr *ngFor="let role of settingsPermission ; let i=index">
                         <td>
                           <div class="custom-control custom-checkbox pos-t-0">
                             <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                             <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                           </div>
                         </td>
                         <td>
                           <div class="custom-control custom-checkbox pos-t-0">
                             <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                             <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                           </div>
                         </td>
                         <td>
                           <div class="custom-control custom-checkbox pos-t-0">
                             <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                             <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                           </div>
                         </td>
                         <td>
                           <div class="custom-control custom-checkbox pos-t-0">
                             <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                             <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                           </div>
                         </td>
                       </tr>
                     </tbody>
                   </table>
                  </div>
            </mat-tab>
            <mat-tab label="Email">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
            <mat-tab label="Log">
              <div class="table-responsive">
                <table class="table table-borderless checkbox001 customTB001">
                  <thead class="color-253238 v-top">
                    <tr>
                      <th class="w-75">
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="selectAllSettings()" type="checkbox" class="custom-control-input" id="settingsChkAll" [(ngModel)] = "isSelectAllSettings">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll">All Modules</label>
                        </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsView()" type="checkbox" class="custom-control-input" id="settingsChkAllView" [(ngModel)] = "isSelectAllSettingsView">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllView">View</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsCreate()" type="checkbox" class="custom-control-input" id="settingsChkAllCreate" [(ngModel)] = "isSelectAllSettingsCreate">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllCreate">Create</label>
                       </div>
                      </th>
                      <th class="f-10-400">
                       <div class="custom-control custom-checkbox pos-t-0">
                         <input (change)="selectAllSettingsEdit()" type="checkbox" class="custom-control-input" id="settingsChkAllEdit" [(ngModel)] = "isSelectAllSettingsEdit">
                         <label class="custom-control-label f-12-500 color-253238" for="settingsChkAllEdit">Edit</label>
                       </div>
                      </th>
                    </tr>
                  </thead>
                  <tbody class="">
                    <tr *ngFor="let role of settingsPermission ; let i=index">
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettings(role.isSelected)" [(ngModel)] = "role.isSelected" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i}}">{{role.name}}</label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsView(role.isSelectedView)" [(ngModel)] = "role.isSelectedView" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+1}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+1}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsCreate(role.isSelectedCreate)" [(ngModel)] = "role.isSelectedCreate" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+2}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+2}}"></label>
                        </div>
                      </td>
                      <td>
                        <div class="custom-control custom-checkbox pos-t-0">
                          <input (change)="unSelectAllSettingsEdit(role.isSelectedEdit)" [(ngModel)] = "role.isSelectedEdit" type="checkbox" class="custom-control-input" id="settingsChkAll{{i}}{{i+3}}">
                          <label class="custom-control-label f-12-500 color-253238" for="settingsChkAll{{i}}{{i+3}}"></label>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
               </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="px-2">
    <button class="btnColor3-B px-4 f-16-700" mat-flat-button color="primary" (click)="modal.close()">Cancel</button>
    <button class="btnColor2 ml-2 px-4 f-16-700" mat-flat-button color="primary" [disabled]="newRoleForm.pristine || newRoleForm.invalid">Create</button>
    </div>
  </div>
</ng-template>

<ng-template #modalNewUser let-modal>
  <div class="modal-header">
    <div class="px-2">
      <span class="color-253238 f-20-500">Add person</span>
    </div>
  </div>
<div class="bg-EFF2F7 px-4 py-3">
  <div class="row align-items-center">
    <div class="col-sm-5 checkbox002 mb-10-xs d-none">
      <div class="input-group inputSearch001">
        <input type="text" matInput class="form-control" placeholder="Search field">
        <div class="input-group-append">
          <i class="input-group-text material-icons">search</i>
        </div>
      </div>
    </div>
    <div class="col-sm-7 checkbox002 text-right ml-auto">
      <div class="custom-control custom-checkbox pos-t-0">
        <input  type="checkbox" class="custom-control-input" id="chkAddPerson" [(ngModel)]="isAddPersonMand">
        <label class="custom-control-label" for="chkAddPerson">Only show mandatory fields</label>
      </div>
    </div>
  </div>

</div>
<div class="modal-body">
    <div class="hgt400 customVerScroll">
    <form [formGroup]="addPersonForm" novalidate>
    <div class="px-2 input001 color-253238 pb-0 v-Bottom">
       <div class="row">
        <div class="col-sm-2 mb-3">
           <div class="addPersonImg position-relative">
            <img (click)="triggerAddPerson.click()" [src]="addPersonImageUrl">
            <input #triggerAddPerson class="d-none" type="file" name=""
            (change)="onChangeAddPerson($event.target.files[0])">
            <span class="material-icons delAddPerImg" (click)="removeAddPersonImage()">delete</span>
          </div>
        </div>
         <div class="col-sm-5 mb-3">
          <div class="">
            <label  class="f-12-500">First Name</label>
            <mat-form-field appearance="fill">
             <input formControlName="firstName" matInput type="text" value="">
           </mat-form-field>
           <span *ngIf="addPersonForm.controls['firstName'].invalid && (addPersonForm.controls['firstName'].dirty || addPersonForm.controls['firstName'].touched)" class="color-ff0000 f-12-500">
            <span *ngIf="addPersonForm.controls['firstName'].errors.required">
           First name is mandatory.
            </span>
           </span>
          </div>
         </div>
         <div class="col-sm-5 mb-3">
          <div class="">
            <label  class="f-12-500">Last Name</label>
            <mat-form-field appearance="fill">
             <input formControlName="lastName" matInput type="text" value="">
           </mat-form-field>
           <span *ngIf="addPersonForm.controls['lastName'].invalid && (addPersonForm.controls['lastName'].dirty || addPersonForm.controls['lastName'].touched)" class="color-ff0000 f-12-500">
            <span *ngIf="addPersonForm.controls['lastName'].errors.required">
           Last name is mandatory.
            </span>
           </span>
          </div>
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2 mb-3">
           <div class="addPerIconWrap">
            <i class="material-icons fs-20 color-455B66">
              call
            </i>
          </div>
        </div>
         <div class="col-sm-5 mb-3">
          <div class="">
            <label  class="f-12-500">Mobile Number</label>
            <mat-form-field appearance="fill">
             <input formControlName="mobileNumber" matInput type="text" value="">
           </mat-form-field>
           <span *ngIf="addPersonForm.controls['mobileNumber'].invalid && (addPersonForm.controls['mobileNumber'].dirty || addPersonForm.controls['mobileNumber'].touched)" class="color-ff0000 f-12-500">
            <span *ngIf="addPersonForm.controls['mobileNumber'].errors.required">
           Mobile number is mandatory.
            </span>
           </span>
          </div>
         </div>
         <div class="col-sm-5 mb-3">
          <div class="">
            <label  class="f-12-500">Work Number</label>
            <mat-form-field appearance="fill">
             <input formControlName="workNumber" matInput type="text" value="">
           </mat-form-field>
           <span *ngIf="addPersonForm.controls['workNumber'].invalid && (addPersonForm.controls['workNumber'].dirty || addPersonForm.controls['workNumber'].touched)" class="color-ff0000 f-12-500">
            <span *ngIf="addPersonForm.controls['workNumber'].errors.required">
           Work number is mandatory.
            </span>
           </span>
          </div>
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2 mb-3">
           <div class="addPerIconWrap">
            <i class="material-icons fs-20 color-455B66">
              email
            </i>
          </div>
        </div>
         <div class="col-sm-10 mb-3">
          <div class="">
            <label  class="f-12-500">Email Address</label>
            <mat-form-field appearance="fill">
             <input formControlName="emailAddress" matInput type="text" value="">
           </mat-form-field>
           <span *ngIf="addPersonForm.controls['emailAddress'].invalid && (addPersonForm.controls['emailAddress'].dirty || addPersonForm.controls['emailAddress'].touched)" class="color-ff0000 f-12-500">
            <span *ngIf="addPersonForm.controls['emailAddress'].errors.required">
           Email is mandatory.
            </span>
           </span>
          </div>
         </div>
       </div>
      <div *ngIf ="!isAddPersonMand">
       <div class="row">
        <div class="col-sm-2">
        </div>
         <div class="col-sm-10 mb-3">
          <div class="">
            <label  class="f-12-500">Role</label>
            <mat-form-field appearance="fill">
              <mat-select [formControl]="addPersonRoleControl">
                <mat-option  *ngFor="let addUserRole of addPersonRoles" [value]="addUserRole.value">{{addUserRole.viewValue}}</mat-option>
              </mat-select>
            </mat-form-field>

          </div>
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2">
        </div>
         <div class="col-sm-10 mb-3">
          <div class="">
            <label  class="f-12-500">Address</label>
            <mat-form-field appearance="fill">
              <input matInput type="text" value="">
            </mat-form-field>
          </div>
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2">
        </div>
         <div class="col-sm-10">
          <hr class="border-E4E9EF mt-1">
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2">
        </div>
         <div class="col-sm-10 mb-3">
          <div class="">
            <label  class="f-12-500">Skype ID</label>
            <mat-form-field appearance="fill">
              <input matInput type="text" value="">
            </mat-form-field>
          </div>
         </div>
       </div>
       <div class="row">
        <div class="col-sm-2">
        </div>
         <div class="col-sm-10 mb-3">
          <div class="">
            <label  class="f-12-500">Description</label>
            <mat-form-field appearance="fill">
              <textarea matInput name="" id="" cols="30" rows="2"></textarea>
            </mat-form-field>
          </div>
         </div>
       </div>
       </div>
    </div>
  </form>
  </div>
  </div>
  <div class="modal-footer">
    <div class="px-2">
    <button class="btnColor3-B px-4 f-16-700" mat-flat-button color="primary" (click)="modal.close()">Cancel</button>
    <button class="btnColor2 ml-2 px-4 f-16-700" mat-flat-button color="primary" [disabled]="addPersonForm.pristine || addPersonForm.invalid">Save</button>
    </div>
  </div>
</ng-template>

<ng-template #modalDelete let-modal>
  <div class="modal-header border-bottom-0">
    <div class="px-2">
      <span class="color-253238 f-20-500">Delete pipeline</span>
    </div>
  </div>
  <div class="modal-body pt-1">
    <div class="px-2">
      <div class="color-ff0000 f-13-400">
        Are you sure you want to permanently delete this one?
      </div>
      <div class="mt-3 checkbox001">
        <div class="custom-control custom-checkbox pos-t-0">
          <input  type="checkbox" class="custom-control-input" id="deletechk">
          <label class="custom-control-label f-13-500 color-253238" for="deletechk">
            Delete this contact and related activities like tasks and calls?
            This action cannot be undone.
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="px-2">
    <button class="btnColor3-B px-4 f-16-700" mat-flat-button color="primary" (click)="modal.close()">Cancel</button>
    <button (click)="triggerSnackBar('Contact has been deleted', 'Close')"  class="btnColor2 ml-2 px-4 f-16-700" mat-flat-button color="primary">Confirm</button>
    </div>
  </div>
</ng-template>
